<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="ClaudeCodeMAUI.ContextInfoPage"
             Title="Context Information"
             BackgroundColor="#1E1E1E">

    <ScrollView Padding="20">
        <VerticalStackLayout Spacing="20">

            <!-- Header Section -->
            <VerticalStackLayout Spacing="10">
                <Label Text="Context Usage"
                       FontSize="28"
                       FontAttributes="Bold"
                       TextColor="White"
                       HorizontalOptions="Center" />

                <Label x:Name="LblModel"
                       FontSize="16"
                       TextColor="LightGray"
                       HorizontalOptions="Center" />

                <Label x:Name="LblTotalUsage"
                       FontSize="18"
                       FontAttributes="Bold"
                       TextColor="Cyan"
                       HorizontalOptions="Center" />
            </VerticalStackLayout>

            <BoxView HeightRequest="2" Color="Gray" Margin="0,10,0,10" />

            <!-- System Prompt -->
            <Frame BorderColor="#4A90E2"
                   BackgroundColor="#2A2A2A"
                   Padding="8"
                   CornerRadius="10">
                <VerticalStackLayout Spacing="5">
                    <Label Text="System Prompt"
                           FontSize="16"
                           FontAttributes="Bold"
                           TextColor="White" />
                    <ProgressBar x:Name="ProgressSystemPrompt"
                                 Progress="0"
                                 ProgressColor="#4A90E2"
                                 HeightRequest="20" />
                    <Label x:Name="LblSystemPrompt"
                           FontSize="14"
                           TextColor="LightGray" />
                </VerticalStackLayout>
            </Frame>

            <!-- System Tools -->
            <Frame BorderColor="#50C878"
                   BackgroundColor="#2A2A2A"
                   Padding="8"
                   CornerRadius="10">
                <VerticalStackLayout Spacing="5">
                    <Label Text="System Tools"
                           FontSize="16"
                           FontAttributes="Bold"
                           TextColor="White" />
                    <ProgressBar x:Name="ProgressSystemTools"
                                 Progress="0"
                                 ProgressColor="#50C878"
                                 HeightRequest="20" />
                    <Label x:Name="LblSystemTools"
                           FontSize="14"
                           TextColor="LightGray" />
                </VerticalStackLayout>
            </Frame>

            <!-- Memory Files -->
            <Frame BorderColor="#FFA500"
                   BackgroundColor="#2A2A2A"
                   Padding="8"
                   CornerRadius="10">
                <VerticalStackLayout Spacing="5">
                    <Label Text="Memory Files"
                           FontSize="16"
                           FontAttributes="Bold"
                           TextColor="White" />
                    <ProgressBar x:Name="ProgressMemoryFiles"
                                 Progress="0"
                                 ProgressColor="#FFA500"
                                 HeightRequest="20" />
                    <Label x:Name="LblMemoryFiles"
                           FontSize="14"
                           TextColor="LightGray" />
                </VerticalStackLayout>
            </Frame>

            <!-- Messages -->
            <Frame BorderColor="#9B59B6"
                   BackgroundColor="#2A2A2A"
                   Padding="8"
                   CornerRadius="10">
                <VerticalStackLayout Spacing="5">
                    <Label Text="Messages"
                           FontSize="16"
                           FontAttributes="Bold"
                           TextColor="White" />
                    <ProgressBar x:Name="ProgressMessages"
                                 Progress="0"
                                 ProgressColor="#9B59B6"
                                 HeightRequest="20" />
                    <Label x:Name="LblMessages"
                           FontSize="14"
                           TextColor="LightGray" />
                </VerticalStackLayout>
            </Frame>

            <!-- Free Space -->
            <Frame BorderColor="#90EE90"
                   BackgroundColor="#2A2A2A"
                   Padding="8"
                   CornerRadius="10">
                <VerticalStackLayout Spacing="5">
                    <Label Text="Free Space"
                           FontSize="16"
                           FontAttributes="Bold"
                           TextColor="White" />
                    <ProgressBar x:Name="ProgressFreeSpace"
                                 Progress="0"
                                 ProgressColor="#90EE90"
                                 HeightRequest="20" />
                    <Label x:Name="LblFreeSpace"
                           FontSize="14"
                           TextColor="LightGray" />
                </VerticalStackLayout>
            </Frame>

            <!-- Autocompact Buffer -->
            <Frame BorderColor="#E74C3C"
                   BackgroundColor="#2A2A2A"
                   Padding="8"
                   CornerRadius="10">
                <VerticalStackLayout Spacing="5">
                    <Label Text="Autocompact Buffer"
                           FontSize="16"
                           FontAttributes="Bold"
                           TextColor="White" />
                    <ProgressBar x:Name="ProgressAutocompact"
                                 Progress="0"
                                 ProgressColor="#E74C3C"
                                 HeightRequest="20" />
                    <Label x:Name="LblAutocompact"
                           FontSize="14"
                           TextColor="LightGray" />
                </VerticalStackLayout>
            </Frame>

            <BoxView HeightRequest="2" Color="Gray" Margin="0,10,0,10" />

            <!-- Action Buttons -->
            <HorizontalStackLayout Spacing="15"
                                   HorizontalOptions="Center"
                                   Margin="0,10,0,0">
                <Button x:Name="BtnCopyRaw"
                        Text="Copy Raw Output"
                        Clicked="OnCopyRawClicked"
                        BackgroundColor="#4A4A4A"
                        TextColor="White"
                        WidthRequest="180"
                        HeightRequest="45"
                        CornerRadius="8" />

                <Button x:Name="BtnClose"
                        Text="Close"
                        Clicked="OnCloseClicked"
                        BackgroundColor="#E74C3C"
                        TextColor="White"
                        WidthRequest="120"
                        HeightRequest="45"
                        CornerRadius="8" />
            </HorizontalStackLayout>

        </VerticalStackLayout>
    </ScrollView>

</ContentPage>
